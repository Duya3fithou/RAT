(()=>{var e={};e.id=837,e.ids=[837],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7790:e=>{"use strict";e.exports=require("assert")},4770:e=>{"use strict";e.exports=require("crypto")},7702:e=>{"use strict";e.exports=require("events")},2048:e=>{"use strict";e.exports=require("fs")},2615:e=>{"use strict";e.exports=require("http")},2694:e=>{"use strict";e.exports=require("http2")},5240:e=>{"use strict";e.exports=require("https")},5315:e=>{"use strict";e.exports=require("path")},6162:e=>{"use strict";e.exports=require("stream")},7360:e=>{"use strict";e.exports=require("url")},1764:e=>{"use strict";e.exports=require("util")},1568:e=>{"use strict";e.exports=require("zlib")},5055:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>u,originalPathname:()=>p,pages:()=>c,routeModule:()=>m,tree:()=>o}),s(4625),s(4710),s(5866);var r=s(3191),a=s(8716),d=s(7922),l=s.n(d),i=s(5231),n={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>i[e]);s.d(t,n);let o=["",{children:["projects",{children:["[projectId]",{children:["add-new-app",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,4625)),"/Users/apple/Desktop/RAT/app/projects/[projectId]/add-new-app/page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,4710)),"/Users/apple/Desktop/RAT/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/apple/Desktop/RAT/app/projects/[projectId]/add-new-app/page.tsx"],p="/projects/[projectId]/add-new-app/page",u={require:s,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/projects/[projectId]/add-new-app/page",pathname:"/projects/[projectId]/add-new-app",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},5246:(e,t,s)=>{Promise.resolve().then(s.bind(s,8800))},8800:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>h});var r=s(326),a=s(7577),d=s(5047),l=s(434),i=s(4019),n=s(7506),o=s(772),c=s(2643),p=s(6384),u=s(5842),m=s(4474),f=s(8848),x=s(4215);function h(){let e=(0,d.useRouter)(),t=(0,d.useParams)(),{projects:s,selectedProject:h,setSelectedProject:j,refreshProjects:g}=(0,f.P)(),{toast:b}=(0,x.pm)(),y=Number(t.projectId),[N,w]=(0,a.useState)(""),[v,_]=(0,a.useState)(""),[P,k]=(0,a.useState)(!1),A=async t=>{if(t.preventDefault(),!N.trim()){b({title:"Lỗi",description:"Vui l\xf2ng nhập t\xean app",variant:"destructive"});return}if(!v){b({title:"Lỗi",description:"Vui l\xf2ng chọn loại app",variant:"destructive"});return}try{k(!0);let t=await fetch(`/api/projects/${y}/apps`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:N.trim(),type:v})});if(!t.ok)throw Error("Failed to create app");let s=await t.json();console.log("App created successfully:",s),await g(),b({title:"Th\xe0nh c\xf4ng",description:`App "${s.name}" đ\xe3 được tạo th\xe0nh c\xf4ng`}),e.push("/")}catch(e){console.error("Failed to create app:",e),b({title:"Lỗi",description:e instanceof Error?e.message:"Kh\xf4ng thể tạo app",variant:"destructive"})}finally{k(!1)}};return r.jsx("div",{className:"min-h-screen bg-background p-4 md:p-8 flex justify-center items-start",children:(0,r.jsxs)(c.Zb,{className:"w-full max-w-4xl rounded-3xl shadow-lg border-muted/40 overflow-hidden",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between gap-4 p-6 border-b border-border/50 bg-muted/10",children:[(0,r.jsxs)("h1",{className:"text-2xl font-bold",children:["Th\xeam App mới",h&&(0,r.jsxs)("span",{className:"text-base font-normal text-muted-foreground ml-2",children:["- ",h.name]})]}),r.jsx(l.default,{href:"/",children:r.jsx(o.z,{variant:"ghost",size:"icon",className:"rounded-full h-10 w-10",disabled:P,children:r.jsx(i.Z,{className:"h-5 w-5"})})})]}),r.jsx("form",{onSubmit:A,children:(0,r.jsxs)(c.aY,{className:"p-6 md:p-10 space-y-8",children:[(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)(u._,{htmlFor:"name",className:"text-lg font-bold",children:["T\xean App ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx(p.I,{id:"name",value:N,onChange:e=>w(e.target.value),placeholder:"V\xed dụ: User Mobile App, Admin Web, CMS...",className:"text-lg font-medium rounded-xl border-muted-foreground/20 h-12",disabled:P,required:!0})]}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)(u._,{htmlFor:"type",className:"text-lg font-bold",children:["Loại App ",r.jsx("span",{className:"text-red-500",children:"*"})]}),(0,r.jsxs)(m.Ph,{value:v,onValueChange:_,disabled:P,children:[r.jsx(m.i4,{className:"w-full rounded-xl border-muted-foreground/20 h-12",children:r.jsx(m.ki,{placeholder:"Chọn loại app"})}),(0,r.jsxs)(m.Bw,{className:"rounded-xl",children:[r.jsx(m.Ql,{value:"USER_WEB",children:"User Web"}),r.jsx(m.Ql,{value:"USER_APP",children:"User App"}),r.jsx(m.Ql,{value:"STAFF_WEB",children:"Staff Web"}),r.jsx(m.Ql,{value:"ADMIN_WEB",children:"Admin Web"}),r.jsx(m.Ql,{value:"API",children:"API"})]})]})]}),(0,r.jsxs)("div",{className:"flex justify-end gap-3 pt-4",children:[r.jsx(l.default,{href:"/",children:r.jsx(o.z,{type:"button",variant:"outline",className:"rounded-xl",disabled:P,children:"Hủy"})}),r.jsx(o.z,{type:"submit",className:"rounded-xl bg-black text-white hover:bg-black/90 dark:bg-white dark:text-black dark:hover:bg-white/90",disabled:P,children:P?(0,r.jsxs)(r.Fragment,{children:[r.jsx(n.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Đang tạo..."]}):"Tạo App"})]})]})})]})})}},2643:(e,t,s)=>{"use strict";s.d(t,{Ol:()=>i,SZ:()=>o,Zb:()=>l,aY:()=>c,ll:()=>n});var r=s(326),a=s(7577),d=s(7863);let l=a.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:(0,d.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));l.displayName="Card";let i=a.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:(0,d.cn)("flex flex-col space-y-1.5 p-6",e),...t}));i.displayName="CardHeader";let n=a.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:(0,d.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));n.displayName="CardTitle";let o=a.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:(0,d.cn)("text-sm text-muted-foreground",e),...t}));o.displayName="CardDescription";let c=a.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:(0,d.cn)("p-6 pt-0",e),...t}));c.displayName="CardContent",a.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:(0,d.cn)("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter"},6384:(e,t,s)=>{"use strict";s.d(t,{I:()=>l});var r=s(326),a=s(7577),d=s(7863);let l=a.forwardRef(({className:e,type:t,...s},a)=>r.jsx("input",{type:t,className:(0,d.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:a,...s}));l.displayName="Input"},5842:(e,t,s)=>{"use strict";s.d(t,{_:()=>c});var r=s(326),a=s(7577),d=s(5226),l=a.forwardRef((e,t)=>(0,r.jsx)(d.WV.label,{...e,ref:t,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));l.displayName="Label";var i=s(9360),n=s(7863);let o=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=a.forwardRef(({className:e,...t},s)=>r.jsx(l,{ref:s,className:(0,n.cn)(o(),e),...t}));c.displayName=l.displayName},4474:(e,t,s)=>{"use strict";s.d(t,{Bw:()=>x,Ph:()=>c,Ql:()=>h,i4:()=>u,ki:()=>p});var r=s(326),a=s(7577),d=s(9087),l=s(8393),i=s(6633),n=s(2933),o=s(7863);let c=d.fC;d.ZA;let p=d.B4,u=a.forwardRef(({className:e,children:t,...s},a)=>(0,r.jsxs)(d.xz,{ref:a,className:(0,o.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...s,children:[t,r.jsx(d.JO,{asChild:!0,children:r.jsx(l.Z,{className:"h-4 w-4 opacity-50"})})]}));u.displayName=d.xz.displayName;let m=a.forwardRef(({className:e,...t},s)=>r.jsx(d.u_,{ref:s,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(i.Z,{className:"h-4 w-4"})}));m.displayName=d.u_.displayName;let f=a.forwardRef(({className:e,...t},s)=>r.jsx(d.$G,{ref:s,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(l.Z,{className:"h-4 w-4"})}));f.displayName=d.$G.displayName;let x=a.forwardRef(({className:e,children:t,position:s="popper",...a},l)=>r.jsx(d.h_,{children:(0,r.jsxs)(d.VY,{ref:l,className:(0,o.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===s&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:s,...a,children:[r.jsx(m,{}),r.jsx(d.l_,{className:(0,o.cn)("p-1","popper"===s&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),r.jsx(f,{})]})}));x.displayName=d.VY.displayName,a.forwardRef(({className:e,...t},s)=>r.jsx(d.__,{ref:s,className:(0,o.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t})).displayName=d.__.displayName;let h=a.forwardRef(({className:e,children:t,...s},a)=>(0,r.jsxs)(d.ck,{ref:a,className:(0,o.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...s,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(d.wU,{children:r.jsx(n.Z,{className:"h-4 w-4"})})}),r.jsx(d.eT,{children:t})]}));h.displayName=d.ck.displayName,a.forwardRef(({className:e,...t},s)=>r.jsx(d.Z0,{ref:s,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",e),...t})).displayName=d.Z0.displayName},4625:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(8570).createProxy)(String.raw`/Users/apple/Desktop/RAT/app/projects/[projectId]/add-new-app/page.tsx#default`)}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[276,969,726,790,845],()=>s(5055));module.exports=r})();